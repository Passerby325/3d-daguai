# 3D RPG 游戏 - AI智能敌人

## 项目简介

这是一个基于 Three.js 的 3D RPG 游戏，具有 AI 智能敌人系统。玩家可以在 3D 环境中探索、战斗，体验智能敌人和 Boss 带来的挑战。

## 技术栈

- **Three.js** - 3D 渲染引擎
- **JavaScript (ES6+)** - 编程语言
- **HTML5/CSS3** - 前端界面

## 项目结构

```
version/
├── index.html              # 游戏入口页面
├── src/
│   ├── main.js            # 游戏主入口
│   ├── core/
│   │   └── Game.js        # 游戏核心类
│   ├── player/
│   │   └── Player.js     # 玩家类
│   ├── enemies/
│   │   ├── Enemy.js      # 敌人基类
│   │   ├── EnemyManager.js # 敌人管理器
│   │   └── Boss.js       # Boss类
│   ├── combat/
│   │   └── CombatSystem.js # 战斗系统
│   ├── ui/
│   │   └── MiniMap.js    # 小地图
│   └── ai/
│       └── LLMService.js # AI服务
└── assets/                # 资源文件夹
```

## 核心功能

### 玩家系统
- 第一人称视角控制
- WASD 移动 + 鼠标视角
- 空格键跳跃
- 左键攻击（挥剑）
- 100 生命值，受伤后屏幕红色闪烁
- 击杀敌人回复生命值

### 敌人 AI 系统
- **状态机 AI**：空闲、巡逻、追击、攻击、逃跑
- 难度系统：每 30 秒提升难度等级
- 难度提升时敌人属性增强（血量、伤害、速度、体型）
- 敌人血条显示
- 受伤/攻击时 AI 对话气泡

### Boss 战斗
- 每 10 秒生成一个 Boss
- Boss 特有技能：
  - **冲锋**：快速冲向玩家
  - **砸地**：范围伤害 + 屏幕震动
  - **召唤**：召唤小怪协助战斗
- 狂暴模式：30% 血量时进入，属性大幅提升
- Boss 血条 UI 显示

### 战斗系统
- 扇形攻击范围检测
- 伤害计算与击退效果
- 伤害数字浮动显示
- 攻击冷却时间

### 小地图
- 实时显示玩家位置（绿色标记）
- 敌人位置标记（红色点）
- Boss 位置标记（紫色大点）
- 视野方向指示（绿色视野锥）
- 200x200 米地图范围

### 视觉效果
- 3D 场景渲染（天空、雾气）
- 动态光源与阴影
- 环境障碍物（树木、岩石）
- 敌人颜色随状态变化
- Boss 死亡特效、胜利提示

## 运行方式

1. 使用本地服务器运行（如 Live Server）
2. 在浏览器中打开 index.html
3. 点击"开始游戏"并锁定指针
4. 使用 WASD 移动，鼠标控制视角

## 操作说明

| 按键 | 功能 |
|------|------|
| W/A/S/D | 移动 |
| 鼠标 | 视角控制 |
| 左键 | 攻击 |
| 空格 | 跳跃 |
| ESC | 暂停/解锁鼠标 |

## 难度系统

- 初始 5 个敌人
- 每 30 秒难度提升 1 级
- 每级增加：
  - 敌人数量 +3
  - 敌人属性 +20%
  - 攻击间隔缩短

## AI 对话系统

游戏内置预设对话，也可配置大模型 API 实现智能对话：
- OpenAI
- Claude
- DeepSeek

配置方式：在 LLMService 中填入 API Key

## 依赖

- Three.js (通过 CDN 引入)
